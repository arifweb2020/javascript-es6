<html>

<head>


</head>
<body>

<h1>Fetch API in JavaScript | Load JSON File [API] with AJAX Call using Fetch API in JavaScript </h1>

<h2>The fetch api provides a fetch() method define on window object,
which u can use to perform request.
<br>

this  method  returns a promise that u can use to retrive
the response of request


</h2>

<h3 id="covid"></h3>

<script>

/*fetch('https://api.covid19api.com/summary').then((data)=>{
console.log(data);
return data.json();
}).then((mydata)=>{

console.log(mydata);


const adata = mydata.Countries;

console.log(adata);

for (var x in adata){

	console.log(x);
	//document.write(`${mydata[x].name} - ${mydata[x].email} - ${mydata[x].email} - ${mydata[x].address.street} <br>`);
	
	var a = `${adata[x].Country} - ${adata[x].NewConfirmed} - ${adata[x].TotalConfirmed}   <br>`;
	document.write(a);
}

}).catch((error)=>{
console.log(error)
});


*/


/*fetch('https://api.covid19api.com/summary').then((apidata)=>{
	console.log(apidata);
	return apidata.json();

}).then ((actualdata)=>{
	console.log(actualdata);
	
	//console.log(actualdata.Countries[76].Country);
	
	//const mydata = actualdata.Countries[76].Country;
	const mydata = actualdata.Countries[76];
	
	//document.getElementById('covid').innerHTML= mydata;
	document.getElementById('covid').innerHTML= ` ${mydata.Country} and total caese are ${mydata.NewConfirmed}  `;

}).catch ((error)=>{

	console.log(`there is some error ${error}`);
})

}*/

function getCovidData(indexes){

fetch('https://api.covid19api.com/summary').then((apidata)=>{
	console.log(apidata);
	return apidata.json();

}).then ((actualdata)=>{
	console.log(actualdata);
	
	//console.log(actualdata.Countries[76].Country);
	
	//const mydata = actualdata.Countries[76];
	const mydata = actualdata.Countries[`${indexes}`];
	
	//document.getElementById('covid').innerHTML= mydata;
	document.getElementById('covid').innerHTML= ` ${mydata.Country} and total caese are ${mydata.NewConfirmed}  `;

}).catch ((error)=>{

	console.log(`there is some error ${error}`);
})




}

getCovidData(76);



// async await







</script>

</body>
</html>