<html>

<head>


</head>
<body>

<h1>Async Await in JavaScript </h1>

<h2>the async keyword is added th func to tell them return a promise rather then directly
return thye value
</h2>

<h2>The keyword await makes js until the promise settele and return the result</h2>



</h1>

<script>
// API REQUIREMENT
/*
1> after 2s roll no
2> after 2s name ,age
3> after 2s gender*/


// promis ka new object create karne k liye new keywords use karna padta hai


// promise constructor way and we hav to use one function executor .in executor fun we hv to pass to argument

// mypro has two method then and catch . we use then for resolev and to show output


const mypro = new Promise((resolve,reject)=>{

setTimeout(()=>{
			console.log(`API getting roll no`);
				let roll_no = [1,2,3,4,5];
				resolve(roll_no);
				//reject (`error api`);
				},2000);

});

const studentsData = (indexdata)=>{

		return new Promise((resolve,reject)=>{
			
			setTimeout((indexdata)=>{
			
				let data = {
					name: "arif",
					age :27
				
				}
				resolve(`My roll num is ${indexdata} . my name is ${data.name} and age is ${data.age}`)
			
			},2000,indexdata);
		
		});
		
		

}
/*
mypro.then ((rollno)=>{

	console.log(rollno);
	
	return  studentsData(rollno[1]);
	

})

.catch((error)=>{
	console.log(error);
}).then((sname)=>{
	console.log(sname);
	});
	*/
	
	
//async awiat


async function getData(){
	
	const rollnodata = await mypro;
	console.log(rollnodata);
	
	const stuData = await studentsData(rollnodata[1]);
		console.log(stuData);
		
		return stuData;
}
const getname = getData().then((myname)=>{
console.log(myname);
});
	

</script>

</body>
</html>