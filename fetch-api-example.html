<html>

<head>


</head>
<body>

<h1>Fetch api example</h1>

<h3>Fetch() method syntax</h3>

<h4>fetch(file/url).then((response)=>{
	return response.data
}).then((result)=>{

console.log(result);
}).catch((error)=>{

console.log(error);
});


</h4>

<h1>fetch () - insert,update,delete</h1>

<h2>for data insert method:"POST"</h2>
<h2>for server data update method:"put"</h2>

<h2>for sedrver data delete method:"delete"</h2>
<h2>for data read method:"get"</h2>

<h2>body:data - k andar wo data passs karte hai jo server me save karwana hai
<br>
form data/jsosn data/text

</h2>

<h2>header:{

} -> k andar jo v body k trourh server me data pass karte hai.. uska content type kya hoga</h2>

<h2>
fetch(file/url,{

method: "post",
body:data,
header:{
'content-type':'application/json',
'content-type':'application/x-www-form-urlencoded' // for form data
}

});

</h2>

<form id="myForm">
Title<br>
<input type="text" placeholder="title" id="titleText"><br>
Body<br>
<input type="text" placeholder="body" id="bodyText"><br>
User Id<br>
<input type="text" placeholder="user id" id="userid"><br>
<input type="submit" id="saveForm">


</form>



<script>
// how to fetch data locally use xampp or wammp server

/*fetch('content/readme.txt').then(res=>{

return res.text();
}).then(result=>{

document.write(result);

}).catch(error=>{
document.write(error);

});

*/
// live api call 
/*
fetch('https://jsonplaceholder.typicode.com/users').then((data)=>{
console.log(data);
return data.json();
}).then((mydata)=>{

console.log(mydata);

for (var x in mydata){

	console.log(x);
	//document.write(`${mydata[x].name} - ${mydata[x].email} - ${mydata[x].email} - ${mydata[x].address.street} <br>`);
	
	var a = `${mydata[x].name} - ${mydata[x].email} - ${mydata[x].email} - ${mydata[x].address.street} <br>`;
	document.write(a);
}

}).catch((error)=>{
console.log(error)
});
*/
// fetch() - insert,update,delete (local -sever )
/*
fetch("json/arif.json").then((pdata)=>{
console.log(pdata);
return pdata.json();
}).then((ardata)=>{

console.log(ardata[0]);

for (var y in ardata){

document.write(`${ardata[y].name} <br>`);

}

}).catch((err)=>{
console.log(err)
});
*/

// insert update,delete
/*
var obj = {
    title: 'foo',
    body: 'bar',
    userId: 1,
  }

fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  body: JSON.stringify(obj),
  headers: {
    'Content-type': 'application/json; charset=UTF-8',
  },
})
  .then((response) => response.json())
  .then((json) => console.log(json));
  
 */ 
 
 
 // for form fill upinsert update,delete

 
 document.getElementById("saveForm").addEventListener("click", function(event){
 
	event.preventDefault();
 
 var obj = {
    title: document.getElementById("titleText").value,
    body: document.getElementById("bodyText").value,
    userId: document.getElementById("userid").value,
  }

fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  body: JSON.stringify(obj),
  headers: {
    'Content-type': 'application/json; charset=UTF-8',
  },
})
  .then((response) => response.json())
  .then((json) => console.log(json));
  

 
 });

// 2nd way in form

/*
 document.getElementById("saveForm").addEventListener("click", function(event){
 
	event.preventDefault();
 


fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  body:new FormData(document.getElementById("myForm")),
  headers: {
    'Content-type': 'application/x-www-form-urlencoded;,
  },
})
  .then((response) => response.json())
  .then((json) => console.log(json));
  

 
 });
*/

</script>

</body>
</html>